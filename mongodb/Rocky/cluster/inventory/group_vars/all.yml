---
# MongoDB 副本集集群全局变量

# 版本
mongodb_version: "7.0.9"

# 安装目录
mongodb_install_dir: "/opt/mongodb"
mongodb_config_dir: "/etc/mongodb"
mongodb_data_dir: "/var/lib/mongodb"
mongodb_log_dir: "/var/log/mongodb"

# 系统用户
mongodb_user: "mongodb"
mongodb_group: "mongodb"

# MongoDB 配置
mongodb_port: 27017
mongodb_bind_ip: "0.0.0.0"
mongodb_journal: "true"

# MongoDB 副本集配置
mongodb_repl_set_name: "mongodb-replica"
mongodb_repl_set_members:
  - host: "172.22.3.20"
    port: 27017
  - host: "172.22.3.21"
    port: 27017
  - host: "172.22.3.22"
    port: 27017

# MongoDB 副本集优先级
mongodb_repl_set_priorities:
  - host: "172.22.3.20"
    priority: 2
  - host: "172.22.3.21"
    priority: 1
  - host: "172.22.3.22"
    priority: 1

# MongoDB 内存配置
mongodb_wired_tiger_cache_size_gb: 1

# MongoDB 存储配置
mongodb_storage_engine: "wiredTiger"
mongodb_wired_tiger_collection_config_compression: "snappy"
mongodb_wired_tiger_index_config_prefix_compression: "snappy"

# MongoDB 日志配置
mongodb_log_append: "true"
mongodb_log_verbosity: 0

# MongoDB 安全配置
mongodb_enable_auth: "true"
mongodb_root_user: "admin"
mongodb_root_password: "admin_password"
mongodb_auth_mechanism: "SCRAM-SHA-256"

# MongoDB 副本集认证
mongodb_keyfile_content: "mongodb-replica-keyfile-change-me"
mongodb_keyfile_path: "/etc/mongodb/keyfile"

# MongoDB 副本集配置
mongodb_repl_set_config:
  _id: "mongodb-replica"
  protocolVersion: 1
  members:
    - _id: 0
      host: "172.22.3.20:27017"
      priority: 2
    - _id: 1
      host: "172.22.3.21:27017"
      priority: 1
    - _id: 2
      host: "172.22.3.22:27017"
      priority: 1

# 下载超时 (秒)
download_timeout: 1800

# 服务状态
service_state: "started"
service_enabled: true